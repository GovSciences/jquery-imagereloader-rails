/**
* jQuery Image Reloader
*
* @author Dumitru Glavan
* @link http://dumitruglavan.com/
* @version 1.0 (3-FEB-2012)
* @requires jQuery v1.4 or later
*
* @example $('.slow-images').imageReloader()
*
* Find source on GitHub: https://github.com/doomhz/jQuery-Image-Reloader
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*/
!function(a){a.fn.imageReloader=function(e){e=a.extend({},e,{loadingClass:"loading-image",reloadTime:1500,maxTries:10});var t=a(this);if(t.length>1)return t.each(function(t,i){a(i).imageReloader(e)}),t;t.data("reload-times",0);var i=t.attr("height"),r=t.attr("width"),n=a('<div class="'+e.loadingClass+'"></div>');n.css({height:i,width:r}),n.hide(),n.insertAfter(t);var d=function(){t.show(),n.remove()};return t.bind("error",function(){t.hide(),n.show();var a=t.data("reload-times");a<e.maxTries?setTimeout(function(){t.attr("src",t.attr("src"));var a=t.data("reload-times");a++,t.data("reload-times",a)},e.reloadTime):t.is(":visible")||(d(),t.attr("alt","Image not found :("))}),t.bind("load",function(){d()}),this}}(jQuery);
